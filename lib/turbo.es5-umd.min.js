/**
 * Minified by jsDelivr using Terser v5.3.5.
 * Original file: /npm/@hotwired/turbo@7.0.0-beta.4/dist/turbo.es5-umd.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Turbo={})}(this,(function(t){"use strict";!function(){if(void 0!==window.Reflect&&void 0!==window.customElements&&!window.customElements.polyfillWrapFlushCallback){var t=HTMLElement,e=function(){return Reflect.construct(t,[],this.constructor)};window.HTMLElement=e,HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}}();var e=new WeakMap;function n(t){var n,r,i,o=(n=t.target,r=n instanceof Element?n:n instanceof Node?n.parentElement:null,"submit"==(null==(i=r?r.closest("input, button"):null)?void 0:i.type)?i:null);o&&o.form&&e.set(o.form,o)}"SubmitEvent"in window||(addEventListener("click",n,!0),Object.defineProperty(Event.prototype,"submitter",{get:function(){if("submit"==this.type&&this.target instanceof HTMLFormElement)return e.get(this.target)}}));
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o,s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function c(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function p(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t}function h(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}!function(t){t.eager="eager",t.lazy="lazy"}(o||(o={}));var d=function(t){function e(){var n=t.call(this)||this;return n.loaded=Promise.resolve(),n.delegate=new e.delegateConstructor(n),n}return i(e,t),Object.defineProperty(e,"observedAttributes",{get:function(){return["loading","src"]},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){this.delegate.connect()},e.prototype.disconnectedCallback=function(){this.delegate.disconnect()},e.prototype.attributeChangedCallback=function(t){"loading"==t?this.delegate.loadingStyleChanged():"src"==t&&this.delegate.sourceURLChanged()},Object.defineProperty(e.prototype,"src",{get:function(){return this.getAttribute("src")},set:function(t){t?this.setAttribute("src",t):this.removeAttribute("src")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loading",{get:function(){return function(t){switch(t.toLowerCase()){case"lazy":return o.lazy;default:return o.eager}}(this.getAttribute("loading")||"")},set:function(t){t?this.setAttribute("loading",t):this.removeAttribute("loading")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.hasAttribute("disabled")},set:function(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoscroll",{get:function(){return this.hasAttribute("autoscroll")},set:function(t){t?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"complete",{get:function(){return!this.delegate.isLoading},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return this.ownerDocument===document&&!this.isPreview},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPreview",{get:function(){var t,e;return null===(e=null===(t=this.ownerDocument)||void 0===t?void 0:t.documentElement)||void 0===e?void 0:e.hasAttribute("data-turbo-preview")},enumerable:!1,configurable:!0}),e}(HTMLElement);function f(t){var e=document.createElement("a");return e.href=t.toString(),new URL(e.href)}function m(t){var e;return t.hash?t.hash.slice(1):(e=t.href.match(/#(.*)$/))?e[1]:""}function y(t){return(function(t){return function(t){return t.pathname.split("/").slice(1)}(t).slice(-1)[0]}(t).match(/\.[^.]*$/)||[])[0]||""}function b(t,e){var n=function(t){return e=t.origin+t.pathname,e.endsWith("/")?e:e+"/";var e}(e);return t.href===f(n).href||t.href.startsWith(n)}function g(t){var e=t.hash.length;return e<2?t.href:t.href.slice(0,-e)}var v,w=function(){function t(t){this.response=t}return Object.defineProperty(t.prototype,"succeeded",{get:function(){return this.response.ok},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"failed",{get:function(){return!this.succeeded},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientError",{get:function(){return this.statusCode>=400&&this.statusCode<=499},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverError",{get:function(){return this.statusCode>=500&&this.statusCode<=599},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"redirected",{get:function(){return this.response.redirected},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"location",{get:function(){return f(this.response.url)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isHTML",{get:function(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"statusCode",{get:function(){return this.response.status},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contentType",{get:function(){return this.header("Content-Type")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"responseText",{get:function(){return this.response.text()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"responseHTML",{get:function(){return this.isHTML?this.response.text():Promise.resolve(void 0)},enumerable:!1,configurable:!0}),t.prototype.header=function(t){return this.response.headers.get(t)},t}();function S(t,e){var n=void 0===e?{}:e,r=n.target,i=n.cancelable,o=n.detail,s=new CustomEvent(t,{cancelable:i,bubbles:!0,detail:o});return(r||document.documentElement).dispatchEvent(s),s}function E(){return new Promise((function(t){return requestAnimationFrame((function(){return t()}))}))}function P(t){return void 0===t&&(t=""),(new DOMParser).parseFromString(t,"text/html")}function L(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=R(t,e).replace(/^\n/,"").split("\n"),i=r[0].match(/^\s+/),o=i?i[0].length:0;return r.map((function(t){return t.slice(o)})).join("\n")}function R(t,e){return t.reduce((function(t,n,r){return t+n+(null==e[r]?"":e[r])}),"")}function C(){return Array.apply(null,{length:36}).map((function(t,e){return 8==e||13==e||18==e||23==e?"-":14==e?"4":19==e?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16)})).join("")}!function(t){t[t.get=0]="get",t[t.post=1]="post",t[t.put=2]="put",t[t.patch=3]="patch",t[t.delete=4]="delete"}(v||(v={}));var O=function(){function t(t,e,n,r){void 0===r&&(r=new URLSearchParams),this.abortController=new AbortController,this.delegate=t,this.method=e,this.isIdempotent?this.url=function(t,e){var n,r,i=new URLSearchParams(t.search);try{for(var o=u(e),s=o.next();!s.done;s=o.next()){var a=l(s.value,2),c=a[0],p=a[1];p instanceof File||(i.has(c)?(i.delete(c),t.searchParams.set(c,p)):t.searchParams.append(c,p))}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return t}(n,p(r.entries())):(this.body=r,this.url=n)}return Object.defineProperty(t.prototype,"location",{get:function(){return this.url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"params",{get:function(){return this.url.searchParams},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"entries",{get:function(){return this.body?Array.from(this.body.entries()):[]},enumerable:!1,configurable:!0}),t.prototype.cancel=function(){this.abortController.abort()},t.prototype.perform=function(){return a(this,void 0,void 0,(function(){var t,e,n;return c(this,(function(r){switch(r.label){case 0:S("turbo:before-fetch-request",{detail:{fetchOptions:t=this.fetchOptions}}),r.label=1;case 1:return r.trys.push([1,4,5,6]),this.delegate.requestStarted(this),[4,fetch(this.url.href,t)];case 2:return e=r.sent(),[4,this.receive(e)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),this.delegate.requestErrored(this,n),n;case 5:return this.delegate.requestFinished(this),[7];case 6:return[2]}}))}))},t.prototype.receive=function(t){return a(this,void 0,void 0,(function(){var e;return c(this,(function(n){return e=new w(t),S("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:e}}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,e):e.succeeded?this.delegate.requestSucceededWithResponse(this,e):this.delegate.requestFailedWithResponse(this,e),[2,e]}))}))},Object.defineProperty(t.prototype,"fetchOptions",{get:function(){return{method:v[this.method].toUpperCase(),credentials:"same-origin",headers:this.headers,redirect:"follow",body:this.body,signal:this.abortSignal}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isIdempotent",{get:function(){return this.method==v.get},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headers",{get:function(){var t=s({},this.defaultHeaders);return"function"==typeof this.delegate.prepareHeadersForRequest&&this.delegate.prepareHeadersForRequest(t,this),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"abortSignal",{get:function(){return this.abortController.signal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultHeaders",{get:function(){return{Accept:"text/html, application/xhtml+xml"}},enumerable:!1,configurable:!0}),t}();var T,k,A=function(){function t(t,e){var n=this;this.started=!1,this.intersect=function(t){var e=t.slice(-1)[0];(null==e?void 0:e.isIntersecting)&&n.delegate.elementAppearedInViewport(n.element)},this.delegate=t,this.element=e,this.intersectionObserver=new IntersectionObserver(this.intersect)}return t.prototype.start=function(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))},t.prototype.stop=function(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))},t}(),j=function(){function t(t){this.templateElement=document.createElement("template"),this.templateElement.innerHTML=t}return t.wrap=function(t){return"string"==typeof t?new this(t):t},Object.defineProperty(t.prototype,"fragment",{get:function(){var t,e,n=document.createDocumentFragment();try{for(var r=u(this.foreignElements),i=r.next();!i.done;i=r.next()){var o=i.value;n.appendChild(document.importNode(o,!0))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"foreignElements",{get:function(){return this.templateChildren.reduce((function(t,e){return"turbo-stream"==e.tagName.toLowerCase()?p(t,[e]):t}),[])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateChildren",{get:function(){return Array.from(this.templateElement.content.children)},enumerable:!1,configurable:!0}),t.contentType="text/vnd.turbo-stream.html",t}();!function(t){t[t.initialized=0]="initialized",t[t.requesting=1]="requesting",t[t.waiting=2]="waiting",t[t.receiving=3]="receiving",t[t.stopping=4]="stopping",t[t.stopped=5]="stopped"}(T||(T={})),function(t){t.urlEncoded="application/x-www-form-urlencoded",t.multipart="multipart/form-data",t.plain="text/plain"}(k||(k={}));var I=function(){function t(t,e,n,r){void 0===r&&(r=!1),this.state=T.initialized,this.delegate=t,this.formElement=e,this.submitter=n,this.formData=function(t,e){var n=new FormData(t),r=null==e?void 0:e.getAttribute("name"),i=null==e?void 0:e.getAttribute("value");r&&n.get(r)!=i&&n.append(r,i||"");return n}(e,n),this.fetchRequest=new O(this,this.method,this.location,this.body),this.mustRedirect=r}return Object.defineProperty(t.prototype,"method",{get:function(){var t;return function(t){switch(t.toLowerCase()){case"get":return v.get;case"post":return v.post;case"put":return v.put;case"patch":return v.patch;case"delete":return v.delete}}(((null===(t=this.submitter)||void 0===t?void 0:t.getAttribute("formmethod"))||this.formElement.getAttribute("method")||"").toLowerCase())||v.get},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"action",{get:function(){var t;return(null===(t=this.submitter)||void 0===t?void 0:t.getAttribute("formaction"))||this.formElement.action},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"location",{get:function(){return f(this.action)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"body",{get:function(){return this.enctype==k.urlEncoded||this.method==v.get?new URLSearchParams(this.stringFormData):this.formData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enctype",{get:function(){var t;return function(t){switch(t.toLowerCase()){case k.multipart:return k.multipart;case k.plain:return k.plain;default:return k.urlEncoded}}((null===(t=this.submitter)||void 0===t?void 0:t.getAttribute("formenctype"))||this.formElement.enctype)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stringFormData",{get:function(){return p(this.formData).reduce((function(t,e){var n=l(e,2),r=n[0],i=n[1];return t.concat("string"==typeof i?[[r,i]]:[])}),[])},enumerable:!1,configurable:!0}),t.prototype.start=function(){return a(this,void 0,void 0,(function(){var t,e;return c(this,(function(n){return t=T.initialized,e=T.requesting,this.state==t?(this.state=e,[2,this.fetchRequest.perform()]):[2]}))}))},t.prototype.stop=function(){var t=T.stopping,e=T.stopped;if(this.state!=t&&this.state!=e)return this.state=t,this.fetchRequest.cancel(),!0},t.prototype.prepareHeadersForRequest=function(t,e){if(!e.isIdempotent){var n=function(t){if(null!=t){var e=(document.cookie?document.cookie.split("; "):[]).find((function(e){return e.startsWith(t)}));if(e){var n=e.split("=").slice(1).join("=");return n?decodeURIComponent(n):void 0}}}(F("csrf-param"))||F("csrf-token");n&&(t["X-CSRF-Token"]=n),t.Accept=[j.contentType,t.Accept].join(", ")}},t.prototype.requestStarted=function(t){this.state=T.waiting,S("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)},t.prototype.requestPreventedHandlingResponse=function(t,e){this.result={success:e.succeeded,fetchResponse:e}},t.prototype.requestSucceededWithResponse=function(t,e){if(e.clientError||e.serverError)this.delegate.formSubmissionFailedWithResponse(this,e);else if(this.requestMustRedirect(t)&&function(t){return 200==t.statusCode&&!t.redirected}(e)){var n=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,n)}else this.state=T.receiving,this.result={success:!0,fetchResponse:e},this.delegate.formSubmissionSucceededWithResponse(this,e)},t.prototype.requestFailedWithResponse=function(t,e){this.result={success:!1,fetchResponse:e},this.delegate.formSubmissionFailedWithResponse(this,e)},t.prototype.requestErrored=function(t,e){this.result={success:!1,error:e},this.delegate.formSubmissionErrored(this,e)},t.prototype.requestFinished=function(t){this.state=T.stopped,S("turbo:submit-end",{target:this.formElement,detail:s({formSubmission:this},this.result)}),this.delegate.formSubmissionFinished(this)},t.prototype.requestMustRedirect=function(t){return!t.isIdempotent&&this.mustRedirect},t}();function F(t){var e=document.querySelector('meta[name="'+t+'"]');return e&&e.content}var H=function(){function t(t){this.element=t}return Object.defineProperty(t.prototype,"children",{get:function(){return p(this.element.children)},enumerable:!1,configurable:!0}),t.prototype.hasAnchor=function(t){return null!=this.getElementForAnchor(t)},t.prototype.getElementForAnchor=function(t){try{return this.element.querySelector("[id='"+t+"'], a[name='"+t+"']")}catch(t){return null}},Object.defineProperty(t.prototype,"firstAutofocusableElement",{get:function(){return this.element.querySelector("[autofocus]")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"permanentElements",{get:function(){return p(this.element.querySelectorAll("[id][data-turbo-permanent]"))},enumerable:!1,configurable:!0}),t.prototype.getPermanentElementById=function(t){return this.element.querySelector("#"+t+"[data-turbo-permanent]")},t.prototype.getPermanentElementsPresentInSnapshot=function(t){return this.permanentElements.filter((function(e){var n=e.id;return t.getPermanentElementById(n)}))},t}(),M=function(){function t(t,e){var n=this;this.submitBubbled=function(t){if(t.target instanceof HTMLFormElement){var e=t.target,r=t.submitter||void 0;n.delegate.shouldInterceptFormSubmission(e,r)&&(t.preventDefault(),t.stopImmediatePropagation(),n.delegate.formSubmissionIntercepted(e,r))}},this.delegate=t,this.element=e}return t.prototype.start=function(){this.element.addEventListener("submit",this.submitBubbled)},t.prototype.stop=function(){this.element.removeEventListener("submit",this.submitBubbled)},t}(),q=function(){function t(t,e){this.delegate=t,this.element=e}return t.prototype.scrollToAnchor=function(t){var e=this.snapshot.getElementForAnchor(t);e?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},t.prototype.scrollToElement=function(t){t.scrollIntoView()},t.prototype.scrollToPosition=function(t){var e=t.x,n=t.y;this.scrollRoot.scrollTo(e,n)},Object.defineProperty(t.prototype,"scrollRoot",{get:function(){return window},enumerable:!1,configurable:!0}),t.prototype.render=function(t){return a(this,void 0,void 0,(function(){var e,n,r;return c(this,(function(i){switch(i.label){case 0:if(this.renderer)throw new Error("rendering is already in progress");if(e=t.isPreview,n=t.shouldRender,r=t.newSnapshot,!n)return[3,5];i.label=1;case 1:return i.trys.push([1,,3,4]),this.renderer=t,this.prepareToRenderSnapshot(t),this.delegate.viewWillRenderSnapshot(r,e),[4,this.renderSnapshot(t)];case 2:return i.sent(),this.delegate.viewRenderedSnapshot(r,e),this.finishRenderingSnapshot(t),[3,4];case 3:return delete this.renderer,[7];case 4:return[3,6];case 5:this.invalidate(),i.label=6;case 6:return[2]}}))}))},t.prototype.invalidate=function(){this.delegate.viewInvalidated()},t.prototype.prepareToRenderSnapshot=function(t){this.markAsPreview(t.isPreview),t.prepareToRender()},t.prototype.markAsPreview=function(t){t?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")},t.prototype.renderSnapshot=function(t){return a(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,t.render()];case 1:return e.sent(),[2]}}))}))},t.prototype.finishRenderingSnapshot=function(t){t.finishRendering()},t}(),B=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.invalidate=function(){this.element.innerHTML=""},Object.defineProperty(e.prototype,"snapshot",{get:function(){return new H(this.element)},enumerable:!1,configurable:!0}),e}(q),x=function(){function t(t,e){var n=this;this.clickBubbled=function(t){n.respondsToEventTarget(t.target)?n.clickEvent=t:delete n.clickEvent},this.linkClicked=function(t){n.clickEvent&&n.respondsToEventTarget(t.target)&&t.target instanceof Element&&n.delegate.shouldInterceptLinkClick(t.target,t.detail.url)&&(n.clickEvent.preventDefault(),t.preventDefault(),n.delegate.linkClickIntercepted(t.target,t.detail.url)),delete n.clickEvent},this.willVisit=function(){delete n.clickEvent},this.delegate=t,this.element=e}return t.prototype.start=function(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)},t.prototype.stop=function(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)},t.prototype.respondsToEventTarget=function(t){var e=t instanceof Element?t:t instanceof Node?t.parentElement:null;return e&&e.closest("turbo-frame, html")==this.element},t}(),V=function(){function t(t,e,n){var r=this;this.currentSnapshot=t,this.newSnapshot=e,this.isPreview=n,this.promise=new Promise((function(t,e){return r.resolvingFunctions={resolve:t,reject:e}}))}return Object.defineProperty(t.prototype,"shouldRender",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.prepareToRender=function(){},t.prototype.finishRendering=function(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)},t.prototype.createScriptElement=function(t){if("false"==t.getAttribute("data-turbo-eval"))return t;var e=document.createElement("script");return e.textContent=t.textContent,e.async=!1,function(t,e){var n,r;try{for(var i=u(p(e.attributes)),o=i.next();!o.done;o=i.next()){var s=o.value,a=s.name,c=s.value;t.setAttribute(a,c)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(e,t),e},t.prototype.preservingPermanentElements=function(t){var e,n,r=(e=this.currentSnapshot,n=this.newSnapshot,e.getPermanentElementsPresentInSnapshot(n).reduce((function(t,e){var r=n.getPermanentElementById(e.id);if(r){var i=function(t){var e=document.createElement("meta");return e.setAttribute("name","turbo-permanent-placeholder"),e.setAttribute("content",t.id),{element:e,permanentElement:t}}(e);return D(e,i.element),D(r,e),p(t,[i])}return t}),[]));t(),function(t){var e,n;try{for(var r=u(t),i=r.next();!i.done;i=r.next()){var o=i.value;D(o.element,o.permanentElement.cloneNode(!0))}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}(r)},t.prototype.focusFirstAutofocusableElement=function(){var t=this.newSnapshot.firstAutofocusableElement;(function(t){return t&&"function"==typeof t.focus})(t)&&t.focus()},Object.defineProperty(t.prototype,"currentElement",{get:function(){return this.currentSnapshot.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newElement",{get:function(){return this.newSnapshot.element},enumerable:!1,configurable:!0}),t}();function D(t,e){var n=t.parentElement;if(n)return n.replaceChild(e,t)}var N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),Object.defineProperty(e.prototype,"shouldRender",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.render=function(){return a(this,void 0,void 0,(function(){var t=this;return c(this,(function(e){switch(e.label){case 0:return[4,E()];case 1:return e.sent(),this.preservingPermanentElements((function(){t.loadFrameElement()})),this.scrollFrameIntoView(),[4,E()];case 2:return e.sent(),this.focusFirstAutofocusableElement(),[2]}}))}))},e.prototype.loadFrameElement=function(){var t,e=document.createRange();e.selectNodeContents(this.currentElement),e.deleteContents();var n=this.newElement,r=null===(t=n.ownerDocument)||void 0===t?void 0:t.createRange();r&&(r.selectNodeContents(n),this.currentElement.appendChild(r.extractContents()))},e.prototype.scrollFrameIntoView=function(){if(this.currentElement.autoscroll||this.newElement.autoscroll){var t=this.currentElement.firstElementChild,e=(n=this.currentElement.getAttribute("data-autoscroll-block"),r="end","end"==n||"start"==n||"center"==n||"nearest"==n?n:r);if(t)return t.scrollIntoView({block:e}),!0}var n,r;return!1},e}(V);var W=function(){function t(t){this.resolveVisitPromise=function(){},this.element=t,this.view=new B(this,this.element),this.appearanceObserver=new A(this,this.element),this.linkInterceptor=new x(this,this.element),this.formInterceptor=new M(this,this.element)}return t.prototype.connect=function(){this.loadingStyle==o.lazy&&this.appearanceObserver.start(),this.linkInterceptor.start(),this.formInterceptor.start()},t.prototype.disconnect=function(){this.appearanceObserver.stop(),this.linkInterceptor.stop(),this.formInterceptor.stop()},t.prototype.sourceURLChanged=function(){this.loadingStyle==o.eager&&this.loadSourceURL()},t.prototype.loadingStyleChanged=function(){this.loadingStyle==o.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.loadSourceURL())},t.prototype.loadSourceURL=function(){return a(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:if(!this.isActive||!this.sourceURL||this.sourceURL==this.loadingURL)return[3,4];t.label=1;case 1:return t.trys.push([1,,3,4]),this.loadingURL=this.sourceURL,this.element.loaded=this.visit(this.sourceURL),this.appearanceObserver.stop(),[4,this.element.loaded];case 2:return t.sent(),[3,4];case 3:return delete this.loadingURL,[7];case 4:return[2]}}))}))},t.prototype.loadResponse=function(t){return a(this,void 0,void 0,(function(){var e,n,r,i,o,s;return c(this,(function(a){switch(a.label){case 0:return a.trys.push([0,5,,6]),[4,t.responseHTML];case 1:return(e=a.sent())?(n=P(e).body,i=H.bind,[4,this.extractForeignFrameElement(n)]):[3,4];case 2:return r=new(i.apply(H,[void 0,a.sent()])),o=new N(this.view.snapshot,r,!1),[4,this.view.render(o)];case 3:a.sent(),a.label=4;case 4:return[3,6];case 5:return s=a.sent(),console.error(s),this.view.invalidate(),[3,6];case 6:return[2]}}))}))},t.prototype.elementAppearedInViewport=function(t){this.loadSourceURL()},t.prototype.shouldInterceptLinkClick=function(t,e){return this.shouldInterceptNavigation(t)},t.prototype.linkClickIntercepted=function(t,e){this.navigateFrame(t,e)},t.prototype.shouldInterceptFormSubmission=function(t){return this.shouldInterceptNavigation(t)},t.prototype.formSubmissionIntercepted=function(t,e){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new I(this,t,e),this.formSubmission.fetchRequest.isIdempotent?this.navigateFrame(t,this.formSubmission.fetchRequest.url.href):this.formSubmission.start()},t.prototype.prepareHeadersForRequest=function(t,e){t["Turbo-Frame"]=this.id},t.prototype.requestStarted=function(t){this.element.setAttribute("busy","")},t.prototype.requestPreventedHandlingResponse=function(t,e){this.resolveVisitPromise()},t.prototype.requestSucceededWithResponse=function(t,e){return a(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.loadResponse(e)];case 1:return t.sent(),this.resolveVisitPromise(),[2]}}))}))},t.prototype.requestFailedWithResponse=function(t,e){console.error(e),this.resolveVisitPromise()},t.prototype.requestErrored=function(t,e){console.error(e),this.resolveVisitPromise()},t.prototype.requestFinished=function(t){this.element.removeAttribute("busy")},t.prototype.formSubmissionStarted=function(t){},t.prototype.formSubmissionSucceededWithResponse=function(t,e){this.findFrameElement(t.formElement).delegate.loadResponse(e)},t.prototype.formSubmissionFailedWithResponse=function(t,e){this.element.delegate.loadResponse(e)},t.prototype.formSubmissionErrored=function(t,e){},t.prototype.formSubmissionFinished=function(t){},t.prototype.viewWillRenderSnapshot=function(t,e){},t.prototype.viewRenderedSnapshot=function(t,e){},t.prototype.viewInvalidated=function(){},t.prototype.visit=function(t){return a(this,void 0,void 0,(function(){var e,n=this;return c(this,(function(r){return e=new O(this,v.get,f(t)),[2,new Promise((function(t){n.resolveVisitPromise=function(){n.resolveVisitPromise=function(){},t()},e.perform()}))]}))}))},t.prototype.navigateFrame=function(t,e){this.findFrameElement(t).src=e},t.prototype.findFrameElement=function(t){var e;return null!==(e=U(t.getAttribute("data-turbo-frame")||this.element.getAttribute("target")))&&void 0!==e?e:this.element},t.prototype.extractForeignFrameElement=function(t){return a(this,void 0,void 0,(function(){var e,n;return c(this,(function(r){switch(r.label){case 0:return n=CSS.escape(this.id),(e=z(t.querySelector("turbo-frame#"+n)))?[2,e]:(e=z(t.querySelector("turbo-frame[src][recurse~="+n+"]")))?[4,e.loaded]:[3,3];case 1:return r.sent(),[4,this.extractForeignFrameElement(e)];case 2:return[2,r.sent()];case 3:return console.error('Response has no matching <turbo-frame id="'+n+'"> element'),[2,new d]}}))}))},t.prototype.shouldInterceptNavigation=function(t){var e=t.getAttribute("data-turbo-frame")||this.element.getAttribute("target");if(!this.enabled||"_top"==e)return!1;if(e){var n=U(e);if(n)return!n.disabled}return!0},Object.defineProperty(t.prototype,"id",{get:function(){return this.element.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return!this.element.disabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sourceURL",{get:function(){return this.element.src},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadingStyle",{get:function(){return this.element.loading},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return void 0!==this.formSubmission||void 0!==this.loadingURL},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this.element.isActive},enumerable:!1,configurable:!0}),t}();function U(t){if(null!=t){var e=document.getElementById(t);if(e instanceof d)return e}}function z(t){if(t&&t.ownerDocument!==document&&(t=document.importNode(t,!0)),t instanceof d)return t}var _,K={append:function(){var t;null===(t=this.targetElement)||void 0===t||t.append(this.templateContent)},prepend:function(){var t;null===(t=this.targetElement)||void 0===t||t.prepend(this.templateContent)},remove:function(){var t;null===(t=this.targetElement)||void 0===t||t.remove()},replace:function(){var t;null===(t=this.targetElement)||void 0===t||t.replaceWith(this.templateContent)},update:function(){this.targetElement&&(this.targetElement.innerHTML="",this.targetElement.append(this.templateContent))}},Y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.connectedCallback=function(){return a(this,void 0,void 0,(function(){var t;return c(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,3,4]),[4,this.render()];case 1:return e.sent(),[3,4];case 2:return t=e.sent(),console.error(t),[3,4];case 3:return this.disconnect(),[7];case 4:return[2]}}))}))},e.prototype.render=function(){var t;return a(this,void 0,void 0,(function(){var e=this;return c(this,(function(n){return[2,null!==(t=this.renderPromise)&&void 0!==t?t:this.renderPromise=a(e,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return this.dispatchEvent(this.beforeRenderEvent)?[4,E()]:[3,2];case 1:t.sent(),this.performAction(),t.label=2;case 2:return[2]}}))}))]}))}))},e.prototype.disconnect=function(){try{this.remove()}catch(t){}},Object.defineProperty(e.prototype,"performAction",{get:function(){if(this.action){var t=K[this.action];if(t)return t;this.raise("unknown action")}this.raise("action attribute is missing")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetElement",{get:function(){var t;if(this.target)return null===(t=this.ownerDocument)||void 0===t?void 0:t.getElementById(this.target);this.raise("target attribute is missing")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"templateContent",{get:function(){return this.templateElement.content},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"templateElement",{get:function(){if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.raise("first child element must be a <template> element")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"action",{get:function(){return this.getAttribute("action")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){return this.getAttribute("target")},enumerable:!1,configurable:!0}),e.prototype.raise=function(t){throw new Error(this.description+": "+t)},Object.defineProperty(e.prototype,"description",{get:function(){var t,e;return null!==(e=(null!==(t=this.outerHTML.match(/<[^>]+>/))&&void 0!==t?t:[])[0])&&void 0!==e?e:"<turbo-stream>"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"beforeRenderEvent",{get:function(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0})},enumerable:!1,configurable:!0}),e}(HTMLElement);d.delegateConstructor=W,customElements.define("turbo-frame",d),customElements.define("turbo-stream",Y),function(){var t=document.currentScript;if(t&&!t.hasAttribute("data-turbo-suppress-warning"))for(;t=t.parentElement;)if(t==document.body)return console.warn(L(_||(_=h(['\n        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!\n\n        Load your application’s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\n        For more information, see: https://turbo.hotwire.dev/handbook/building#working-with-script-elements\n\n        ——\n        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s\n      '],['\n        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!\n\n        Load your application’s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\n        For more information, see: https://turbo.hotwire.dev/handbook/building#working-with-script-elements\n\n        ——\n        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s\n      ']))),t.outerHTML)}();var $,J=function(){function t(){var t=this;this.hiding=!1,this.value=0,this.visible=!1,this.trickle=function(){t.setValue(t.value+Math.random()/100)},this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}return Object.defineProperty(t,"defaultCSS",{get:function(){return L($||($=h(["\n      .turbo-progress-bar {\n        position: fixed;\n        display: block;\n        top: 0;\n        left: 0;\n        height: 3px;\n        background: #0076ff;\n        z-index: 9999;\n        transition:\n          width ","ms ease-out,\n          opacity ","ms ","ms ease-in;\n        transform: translate3d(0, 0, 0);\n      }\n    "],["\n      .turbo-progress-bar {\n        position: fixed;\n        display: block;\n        top: 0;\n        left: 0;\n        height: 3px;\n        background: #0076ff;\n        z-index: 9999;\n        transition:\n          width ","ms ease-out,\n          opacity ","ms ","ms ease-in;\n        transform: translate3d(0, 0, 0);\n      }\n    "])),t.animationDuration,t.animationDuration/2,t.animationDuration/2)},enumerable:!1,configurable:!0}),t.prototype.show=function(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())},t.prototype.hide=function(){var t=this;this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement((function(){t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1})))},t.prototype.setValue=function(t){this.value=t,this.refresh()},t.prototype.installStylesheetElement=function(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},t.prototype.installProgressElement=function(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},t.prototype.fadeProgressElement=function(e){this.progressElement.style.opacity="0",setTimeout(e,1.5*t.animationDuration)},t.prototype.uninstallProgressElement=function(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)},t.prototype.startTrickling=function(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,t.animationDuration))},t.prototype.stopTrickling=function(){window.clearInterval(this.trickleInterval),delete this.trickleInterval},t.prototype.refresh=function(){var t=this;requestAnimationFrame((function(){t.progressElement.style.width=10+90*t.value+"%"}))},t.prototype.createStylesheetElement=function(){var e=document.createElement("style");return e.type="text/css",e.textContent=t.defaultCSS,e},t.prototype.createProgressElement=function(){var t=document.createElement("div");return t.className="turbo-progress-bar",t},t.animationDuration=300,t}(),X=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.detailsByOuterHTML=e.children.reduce((function(t,e){var n,r=e.outerHTML,i=r in t?t[r]:{type:G(e),tracked:Q(e),elements:[]};return s(s({},t),((n={})[r]=s(s({},i),{elements:p(i.elements,[e])}),n))}),{}),e}return i(e,t),Object.defineProperty(e.prototype,"trackedElementSignature",{get:function(){var t=this;return Object.keys(this.detailsByOuterHTML).filter((function(e){return t.detailsByOuterHTML[e].tracked})).join("")},enumerable:!1,configurable:!0}),e.prototype.getScriptElementsNotInSnapshot=function(t){return this.getElementsMatchingTypeNotInSnapshot("script",t)},e.prototype.getStylesheetElementsNotInSnapshot=function(t){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",t)},e.prototype.getElementsMatchingTypeNotInSnapshot=function(t,e){var n=this;return Object.keys(this.detailsByOuterHTML).filter((function(t){return!(t in e.detailsByOuterHTML)})).map((function(t){return n.detailsByOuterHTML[t]})).filter((function(e){return e.type==t})).map((function(t){return l(t.elements,1)[0]}))},Object.defineProperty(e.prototype,"provisionalElements",{get:function(){var t=this;return Object.keys(this.detailsByOuterHTML).reduce((function(e,n){var r=t.detailsByOuterHTML[n],i=r.type,o=r.tracked,s=r.elements;return null!=i||o?s.length>1?p(e,s.slice(1)):e:p(e,s)}),[])},enumerable:!1,configurable:!0}),e.prototype.getMetaValue=function(t){var e=this.findMetaElementByName(t);return e?e.getAttribute("content"):null},e.prototype.findMetaElementByName=function(t){var e=this;return Object.keys(this.detailsByOuterHTML).reduce((function(n,r){var i=l(e.detailsByOuterHTML[r].elements,1)[0];return function(t,e){return"meta"==t.tagName.toLowerCase()&&t.getAttribute("name")==e}(i,t)?i:n}),void 0)},e}(H);function G(t){return function(t){return"script"==t.tagName.toLowerCase()}(t)?"script":function(t){var e=t.tagName.toLowerCase();return"style"==e||"link"==e&&"stylesheet"==t.getAttribute("rel")}(t)?"stylesheet":void 0}function Q(t){return"reload"==t.getAttribute("data-turbo-track")}var Z,tt,et=function(t){function e(e,n){var r=t.call(this,e)||this;return r.headSnapshot=n,r}return i(e,t),e.fromHTMLString=function(t){return void 0===t&&(t=""),this.fromDocument(P(t))},e.fromElement=function(t){return this.fromDocument(t.ownerDocument)},e.fromDocument=function(t){var e=t.head;return new this(t.body,new X(e))},e.prototype.clone=function(){return new e(this.element.cloneNode(!0),this.headSnapshot)},Object.defineProperty(e.prototype,"headElement",{get:function(){return this.headSnapshot.element},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rootLocation",{get:function(){var t;return f(null!==(t=this.getSetting("root"))&&void 0!==t?t:"/")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cacheControlValue",{get:function(){return this.getSetting("cache-control")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPreviewable",{get:function(){return"no-preview"!=this.cacheControlValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCacheable",{get:function(){return"no-cache"!=this.cacheControlValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isVisitable",{get:function(){return"reload"!=this.getSetting("visit-control")},enumerable:!1,configurable:!0}),e.prototype.getSetting=function(t){return this.headSnapshot.getMetaValue("turbo-"+t)},e}(H);!function(t){t.visitStart="visitStart",t.requestStart="requestStart",t.requestEnd="requestEnd",t.visitEnd="visitEnd"}(Z||(Z={})),function(t){t.initialized="initialized",t.started="started",t.canceled="canceled",t.failed="failed",t.completed="completed"}(tt||(tt={}));var nt,rt={action:"advance",historyChanged:!1};!function(t){t[t.networkFailure=0]="networkFailure",t[t.timeoutFailure=-1]="timeoutFailure",t[t.contentTypeMismatch=-2]="contentTypeMismatch"}(nt||(nt={}));var it=function(){function t(t,e,n,r){void 0===r&&(r={}),this.identifier=C(),this.timingMetrics={},this.followedRedirect=!1,this.historyChanged=!1,this.scrolled=!1,this.snapshotCached=!1,this.state=tt.initialized,this.delegate=t,this.location=e,this.restorationIdentifier=n||C();var i=s(s({},rt),r),o=i.action,a=i.historyChanged,c=i.referrer,u=i.snapshotHTML,l=i.response;this.action=o,this.historyChanged=a,this.referrer=c,this.snapshotHTML=u,this.response=l}return Object.defineProperty(t.prototype,"adapter",{get:function(){return this.delegate.adapter},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"view",{get:function(){return this.delegate.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"history",{get:function(){return this.delegate.history},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"restorationData",{get:function(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.state==tt.initialized&&(this.recordTimingMetric(Z.visitStart),this.state=tt.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))},t.prototype.cancel=function(){this.state==tt.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=tt.canceled)},t.prototype.complete=function(){this.state==tt.started&&(this.recordTimingMetric(Z.visitEnd),this.state=tt.completed,this.adapter.visitCompleted(this),this.delegate.visitCompleted(this))},t.prototype.fail=function(){this.state==tt.started&&(this.state=tt.failed,this.adapter.visitFailed(this))},t.prototype.changeHistory=function(){var t;if(!this.historyChanged){var e=this.location.href===(null===(t=this.referrer)||void 0===t?void 0:t.href)?"replace":this.action,n=this.getHistoryMethodForAction(e);this.history.update(n,this.location,this.restorationIdentifier),this.historyChanged=!0}},t.prototype.issueRequest=function(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new O(this,v.get,this.location),this.request.perform())},t.prototype.simulateRequest=function(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())},t.prototype.startRequest=function(){this.recordTimingMetric(Z.requestStart),this.adapter.visitRequestStarted(this)},t.prototype.recordResponse=function(t){if(void 0===t&&(t=this.response),this.response=t,t){var e=t.statusCode;ot(e)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,e)}},t.prototype.finishRequest=function(){this.recordTimingMetric(Z.requestEnd),this.adapter.visitRequestFinished(this)},t.prototype.loadResponse=function(){var t=this;if(this.response){var e=this.response,n=e.statusCode,r=e.responseHTML;this.render((function(){return a(t,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return this.cacheSnapshot(),ot(n)&&null!=r?[4,this.view.renderPage(et.fromHTMLString(r))]:[3,2];case 1:return t.sent(),this.adapter.visitRendered(this),this.complete(),[3,4];case 2:return[4,this.view.renderError(et.fromHTMLString(r))];case 3:t.sent(),this.adapter.visitRendered(this),this.fail(),t.label=4;case 4:return[2]}}))}))}))}},t.prototype.getCachedSnapshot=function(){var t=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(t&&(!m(this.location)||t.hasAnchor(m(this.location)))&&("restore"==this.action||t.isPreviewable))return t},t.prototype.getPreloadedSnapshot=function(){if(this.snapshotHTML)return et.fromHTMLString(this.snapshotHTML)},t.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},t.prototype.loadCachedSnapshot=function(){var t=this,e=this.getCachedSnapshot();if(e){var n=this.shouldIssueRequest();this.render((function(){return a(t,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return this.cacheSnapshot(),[4,this.view.renderPage(e)];case 1:return t.sent(),this.adapter.visitRendered(this),n||this.complete(),[2]}}))}))}))}},t.prototype.followRedirect=function(){this.redirectedToLocation&&!this.followedRedirect&&(this.location=this.redirectedToLocation,this.history.replace(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0)},t.prototype.requestStarted=function(){this.startRequest()},t.prototype.requestPreventedHandlingResponse=function(t,e){},t.prototype.requestSucceededWithResponse=function(t,e){return a(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return[4,e.responseHTML];case 1:return null==(t=n.sent())?this.recordResponse({statusCode:nt.contentTypeMismatch}):(this.redirectedToLocation=e.redirected?e.location:void 0,this.recordResponse({statusCode:e.statusCode,responseHTML:t})),[2]}}))}))},t.prototype.requestFailedWithResponse=function(t,e){return a(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return[4,e.responseHTML];case 1:return null==(t=n.sent())?this.recordResponse({statusCode:nt.contentTypeMismatch}):this.recordResponse({statusCode:e.statusCode,responseHTML:t}),[2]}}))}))},t.prototype.requestErrored=function(t,e){this.recordResponse({statusCode:nt.networkFailure})},t.prototype.requestFinished=function(){this.finishRequest()},t.prototype.performScroll=function(){this.scrolled||("restore"==this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},t.prototype.scrollToRestoredPosition=function(){var t=this.restorationData.scrollPosition;if(t)return this.view.scrollToPosition(t),!0},t.prototype.scrollToAnchor=function(){if(null!=m(this.location))return this.view.scrollToAnchor(m(this.location)),!0},t.prototype.scrollToTop=function(){this.view.scrollToPosition({x:0,y:0})},t.prototype.recordTimingMetric=function(t){this.timingMetrics[t]=(new Date).getTime()},t.prototype.getTimingMetrics=function(){return s({},this.timingMetrics)},t.prototype.getHistoryMethodForAction=function(t){switch(t){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}},t.prototype.hasPreloadedResponse=function(){return"object"==typeof this.response},t.prototype.shouldIssueRequest=function(){return"restore"!=this.action||!this.hasCachedSnapshot()},t.prototype.cacheSnapshot=function(){this.snapshotCached||(this.view.cacheSnapshot(),this.snapshotCached=!0)},t.prototype.render=function(t){return a(this,void 0,void 0,(function(){var e=this;return c(this,(function(n){switch(n.label){case 0:return this.cancelRender(),[4,new Promise((function(t){e.frame=requestAnimationFrame((function(){return t()}))}))];case 1:return n.sent(),t(),delete this.frame,this.performScroll(),[2]}}))}))},t.prototype.cancelRender=function(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)},t}();function ot(t){return t>=200&&t<300}var st,at=function(){function t(t){var e=this;this.progressBar=new J,this.showProgressBar=function(){e.progressBar.show()},this.session=t}return t.prototype.visitProposedToLocation=function(t,e){this.navigator.startVisit(t,C(),e)},t.prototype.visitStarted=function(t){t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},t.prototype.visitRequestStarted=function(t){this.progressBar.setValue(0),t.hasCachedSnapshot()||"restore"!=t.action?this.showProgressBarAfterDelay():this.showProgressBar()},t.prototype.visitRequestCompleted=function(t){t.loadResponse()},t.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case nt.networkFailure:case nt.timeoutFailure:case nt.contentTypeMismatch:return this.reload();default:return t.loadResponse()}},t.prototype.visitRequestFinished=function(t){this.progressBar.setValue(1),this.hideProgressBar()},t.prototype.visitCompleted=function(t){t.followRedirect()},t.prototype.pageInvalidated=function(){this.reload()},t.prototype.visitFailed=function(t){},t.prototype.visitRendered=function(t){},t.prototype.showProgressBarAfterDelay=function(){this.progressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)},t.prototype.hideProgressBar=function(){this.progressBar.hide(),null!=this.progressBarTimeout&&(window.clearTimeout(this.progressBarTimeout),delete this.progressBarTimeout)},t.prototype.reload=function(){window.location.reload()},Object.defineProperty(t.prototype,"navigator",{get:function(){return this.session.navigator},enumerable:!1,configurable:!0}),t}(),ct=function(){function t(t){var e=this;this.started=!1,this.submitCaptured=function(){removeEventListener("submit",e.submitBubbled,!1),addEventListener("submit",e.submitBubbled,!1)},this.submitBubbled=function(t){if(!t.defaultPrevented){var n=t.target instanceof HTMLFormElement?t.target:void 0,r=t.submitter||void 0;if(n)"dialog"!=((null==r?void 0:r.getAttribute("formmethod"))||n.method)&&e.delegate.willSubmitForm(n,r)&&(t.preventDefault(),e.delegate.formSubmitted(n,r))}},this.delegate=t}return t.prototype.start=function(){this.started||(addEventListener("submit",this.submitCaptured,!0),this.started=!0)},t.prototype.stop=function(){this.started&&(removeEventListener("submit",this.submitCaptured,!0),this.started=!1)},t}(),ut=function(){function t(t){this.element=t,this.linkInterceptor=new x(this,t),this.formInterceptor=new M(this,t)}return t.prototype.start=function(){this.linkInterceptor.start(),this.formInterceptor.start()},t.prototype.stop=function(){this.linkInterceptor.stop(),this.formInterceptor.stop()},t.prototype.shouldInterceptLinkClick=function(t,e){return this.shouldRedirect(t)},t.prototype.linkClickIntercepted=function(t,e){var n=this.findFrameElement(t);n&&(n.src=e)},t.prototype.shouldInterceptFormSubmission=function(t,e){return this.shouldRedirect(t,e)},t.prototype.formSubmissionIntercepted=function(t,e){var n=this.findFrameElement(t);n&&n.delegate.formSubmissionIntercepted(t,e)},t.prototype.shouldRedirect=function(t,e){var n=this.findFrameElement(t);return!!n&&n!=t.closest("turbo-frame")},t.prototype.findFrameElement=function(t){var e=t.getAttribute("data-turbo-frame");if(e&&"_top"!=e){var n=this.element.querySelector("#"+e+":not([disabled])");if(n instanceof d)return n}},t}(),lt=function(){function t(t){var e=this;this.restorationIdentifier=C(),this.restorationData={},this.started=!1,this.pageLoaded=!1,this.onPopState=function(t){if(e.shouldHandlePopState()){var n=(t.state||{}).turbo;if(n){e.location=new URL(window.location.href);var r=n.restorationIdentifier;e.restorationIdentifier=r,e.delegate.historyPoppedToLocationWithRestorationIdentifier(e.location,r)}}},this.onPageLoad=function(t){return a(e,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,Promise.resolve()];case 1:return t.sent(),this.pageLoaded=!0,[2]}}))}))},this.delegate=t}return t.prototype.start=function(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0,this.replace(new URL(window.location.href)))},t.prototype.stop=function(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)},t.prototype.push=function(t,e){this.update(history.pushState,t,e)},t.prototype.replace=function(t,e){this.update(history.replaceState,t,e)},t.prototype.update=function(t,e,n){void 0===n&&(n=C());var r={turbo:{restorationIdentifier:n}};t.call(history,r,"",e.href),this.location=e,this.restorationIdentifier=n},t.prototype.getRestorationDataForIdentifier=function(t){return this.restorationData[t]||{}},t.prototype.updateRestorationData=function(t){var e=this.restorationIdentifier,n=this.restorationData[e];this.restorationData[e]=s(s({},n),t)},t.prototype.assumeControlOfScrollRestoration=function(){var t;this.previousScrollRestoration||(this.previousScrollRestoration=null!==(t=history.scrollRestoration)&&void 0!==t?t:"auto",history.scrollRestoration="manual")},t.prototype.relinquishControlOfScrollRestoration=function(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)},t.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},t.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"==document.readyState},t}(),pt=function(){function t(t){var e=this;this.started=!1,this.clickCaptured=function(){removeEventListener("click",e.clickBubbled,!1),addEventListener("click",e.clickBubbled,!1)},this.clickBubbled=function(t){if(e.clickEventIsSignificant(t)){var n=e.findLinkFromClickTarget(t.target);if(n){var r=e.getLocationForLink(n);e.delegate.willFollowLinkToLocation(n,r)&&(t.preventDefault(),e.delegate.followedLinkToLocation(n,r))}}},this.delegate=t}return t.prototype.start=function(){this.started||(addEventListener("click",this.clickCaptured,!0),this.started=!0)},t.prototype.stop=function(){this.started&&(removeEventListener("click",this.clickCaptured,!0),this.started=!1)},t.prototype.clickEventIsSignificant=function(t){return!(t.target&&t.target.isContentEditable||t.defaultPrevented||t.which>1||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},t.prototype.findLinkFromClickTarget=function(t){if(t instanceof Element)return t.closest("a[href]:not([target^=_]):not([download])")},t.prototype.getLocationForLink=function(t){return f(t.getAttribute("href")||"")},t}(),ht=function(){function t(t){this.delegate=t}return t.prototype.proposeVisit=function(t,e){void 0===e&&(e={}),this.delegate.allowsVisitingLocation(t)&&this.delegate.visitProposedToLocation(t,e)},t.prototype.startVisit=function(t,e,n){void 0===n&&(n={}),this.stop(),this.currentVisit=new it(this,f(t),e,s({referrer:this.location},n)),this.currentVisit.start()},t.prototype.submitForm=function(t,e){this.stop(),this.formSubmission=new I(this,t,e,!0),this.formSubmission.fetchRequest.isIdempotent?this.proposeVisit(this.formSubmission.fetchRequest.url):this.formSubmission.start()},t.prototype.stop=function(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)},Object.defineProperty(t.prototype,"adapter",{get:function(){return this.delegate.adapter},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"view",{get:function(){return this.delegate.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"history",{get:function(){return this.delegate.history},enumerable:!1,configurable:!0}),t.prototype.formSubmissionStarted=function(t){},t.prototype.formSubmissionSucceededWithResponse=function(t,e){return a(this,void 0,void 0,(function(){var n,r,i;return c(this,(function(o){switch(o.label){case 0:return t!=this.formSubmission?[3,2]:[4,e.responseHTML];case 1:(n=o.sent())&&(t.method!=v.get&&this.view.clearSnapshotCache(),r=e.statusCode,i={response:{statusCode:r,responseHTML:n}},this.proposeVisit(e.location,i)),o.label=2;case 2:return[2]}}))}))},t.prototype.formSubmissionFailedWithResponse=function(t,e){return a(this,void 0,void 0,(function(){var t,n;return c(this,(function(r){switch(r.label){case 0:return[4,e.responseHTML];case 1:return(t=r.sent())?(n=et.fromHTMLString(t),[4,this.view.renderPage(n)]):[3,3];case 2:r.sent(),this.view.clearSnapshotCache(),r.label=3;case 3:return[2]}}))}))},t.prototype.formSubmissionErrored=function(t,e){},t.prototype.formSubmissionFinished=function(t){},t.prototype.visitStarted=function(t){this.delegate.visitStarted(t)},t.prototype.visitCompleted=function(t){this.delegate.visitCompleted(t)},Object.defineProperty(t.prototype,"location",{get:function(){return this.history.location},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"restorationIdentifier",{get:function(){return this.history.restorationIdentifier},enumerable:!1,configurable:!0}),t}();!function(t){t[t.initial=0]="initial",t[t.loading=1]="loading",t[t.interactive=2]="interactive",t[t.complete=3]="complete"}(st||(st={}));var dt=function(){function t(t){var e=this;this.stage=st.initial,this.started=!1,this.interpretReadyState=function(){var t=e.readyState;"interactive"==t?e.pageIsInteractive():"complete"==t&&e.pageIsComplete()},this.pageWillUnload=function(){e.delegate.pageWillUnload()},this.delegate=t}return t.prototype.start=function(){this.started||(this.stage==st.initial&&(this.stage=st.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)},t.prototype.stop=function(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)},t.prototype.pageIsInteractive=function(){this.stage==st.loading&&(this.stage=st.interactive,this.delegate.pageBecameInteractive())},t.prototype.pageIsComplete=function(){this.pageIsInteractive(),this.stage==st.interactive&&(this.stage=st.complete,this.delegate.pageLoaded())},Object.defineProperty(t.prototype,"readyState",{get:function(){return document.readyState},enumerable:!1,configurable:!0}),t}(),ft=function(){function t(t){var e=this;this.started=!1,this.onScroll=function(){e.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},this.delegate=t}return t.prototype.start=function(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},t.prototype.stop=function(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)},t.prototype.updatePosition=function(t){this.delegate.scrollPositionChanged(t)},t}(),mt=function(){function t(t){var e=this;this.sources=new Set,this.started=!1,this.inspectFetchResponse=function(t){var n=function(t){var e,n=null===(e=t.detail)||void 0===e?void 0:e.fetchResponse;if(n instanceof w)return n}(t);n&&function(t){var e;return(null!==(e=t.contentType)&&void 0!==e?e:"").startsWith(j.contentType)}(n)&&(t.preventDefault(),e.receiveMessageResponse(n))},this.receiveMessageEvent=function(t){e.started&&"string"==typeof t.data&&e.receiveMessageHTML(t.data)},this.delegate=t}return t.prototype.start=function(){this.started||(this.started=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))},t.prototype.stop=function(){this.started&&(this.started=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))},t.prototype.connectStreamSource=function(t){this.streamSourceIsConnected(t)||(this.sources.add(t),t.addEventListener("message",this.receiveMessageEvent,!1))},t.prototype.disconnectStreamSource=function(t){this.streamSourceIsConnected(t)&&(this.sources.delete(t),t.removeEventListener("message",this.receiveMessageEvent,!1))},t.prototype.streamSourceIsConnected=function(t){return this.sources.has(t)},t.prototype.receiveMessageResponse=function(t){return a(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return[4,t.responseHTML];case 1:return(e=n.sent())&&this.receiveMessageHTML(e),[2]}}))}))},t.prototype.receiveMessageHTML=function(t){this.delegate.receivedMessageFromStream(new j(t))},t}();var yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.render=function(){return a(this,void 0,void 0,(function(){return c(this,(function(t){return this.replaceHeadAndBody(),this.activateScriptElements(),[2]}))}))},e.prototype.replaceHeadAndBody=function(){var t=document.documentElement,e=document.head,n=document.body;t.replaceChild(this.newHead,e),t.replaceChild(this.newElement,n)},e.prototype.activateScriptElements=function(){var t,e;try{for(var n=u(this.scriptElements),r=n.next();!r.done;r=n.next()){var i=r.value,o=i.parentNode;if(o){var s=this.createScriptElement(i);o.replaceChild(s,i)}}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},Object.defineProperty(e.prototype,"newHead",{get:function(){return this.newSnapshot.headSnapshot.element},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scriptElements",{get:function(){return p(document.documentElement.querySelectorAll("script"))},enumerable:!1,configurable:!0}),e}(V),bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),Object.defineProperty(e.prototype,"shouldRender",{get:function(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical},enumerable:!1,configurable:!0}),e.prototype.prepareToRender=function(){this.mergeHead()},e.prototype.render=function(){return a(this,void 0,void 0,(function(){return c(this,(function(t){return this.replaceBody(),[2]}))}))},e.prototype.finishRendering=function(){t.prototype.finishRendering.call(this),this.isPreview&&this.focusFirstAutofocusableElement()},Object.defineProperty(e.prototype,"currentHeadSnapshot",{get:function(){return this.currentSnapshot.headSnapshot},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newHeadSnapshot",{get:function(){return this.newSnapshot.headSnapshot},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newElement",{get:function(){return this.newSnapshot.element},enumerable:!1,configurable:!0}),e.prototype.mergeHead=function(){this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},e.prototype.replaceBody=function(){var t=this;this.preservingPermanentElements((function(){t.activateNewBody(),t.assignNewBody()}))},Object.defineProperty(e.prototype,"trackedElementsAreIdentical",{get:function(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature},enumerable:!1,configurable:!0}),e.prototype.copyNewHeadStylesheetElements=function(){var t,e;try{for(var n=u(this.newHeadStylesheetElements),r=n.next();!r.done;r=n.next()){var i=r.value;document.head.appendChild(i)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.copyNewHeadScriptElements=function(){var t,e;try{for(var n=u(this.newHeadScriptElements),r=n.next();!r.done;r=n.next()){var i=r.value;document.head.appendChild(this.createScriptElement(i))}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.removeCurrentHeadProvisionalElements=function(){var t,e;try{for(var n=u(this.currentHeadProvisionalElements),r=n.next();!r.done;r=n.next()){var i=r.value;document.head.removeChild(i)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.copyNewHeadProvisionalElements=function(){var t,e;try{for(var n=u(this.newHeadProvisionalElements),r=n.next();!r.done;r=n.next()){var i=r.value;document.head.appendChild(i)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.activateNewBody=function(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()},e.prototype.activateNewBodyScriptElements=function(){var t,e;try{for(var n=u(this.newBodyScriptElements),r=n.next();!r.done;r=n.next()){var i=r.value;D(i,this.createScriptElement(i))}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.assignNewBody=function(){document.body&&this.newElement instanceof HTMLBodyElement?D(document.body,this.newElement):document.documentElement.appendChild(this.newElement)},Object.defineProperty(e.prototype,"newHeadStylesheetElements",{get:function(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newHeadScriptElements",{get:function(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentHeadProvisionalElements",{get:function(){return this.currentHeadSnapshot.provisionalElements},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newHeadProvisionalElements",{get:function(){return this.newHeadSnapshot.provisionalElements},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newBodyScriptElements",{get:function(){return p(this.newElement.querySelectorAll("script"))},enumerable:!1,configurable:!0}),e}(V),gt=function(){function t(t){this.keys=[],this.snapshots={},this.size=t}return t.prototype.has=function(t){return g(t)in this.snapshots},t.prototype.get=function(t){if(this.has(t)){var e=this.read(t);return this.touch(t),e}},t.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},t.prototype.clear=function(){this.snapshots={}},t.prototype.read=function(t){return this.snapshots[g(t)]},t.prototype.write=function(t,e){this.snapshots[g(t)]=e},t.prototype.touch=function(t){var e=g(t),n=this.keys.indexOf(e);n>-1&&this.keys.splice(n,1),this.keys.unshift(e),this.trim()},t.prototype.trim=function(){var t,e;try{for(var n=u(this.keys.splice(this.size)),r=n.next();!r.done;r=n.next()){var i=r.value;delete this.snapshots[i]}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t}(),vt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.snapshotCache=new gt(10),e.lastRenderedLocation=new URL(location.href),e}return i(e,t),e.prototype.renderPage=function(t,e){void 0===e&&(e=!1);var n=new bt(this.snapshot,t,e);return this.render(n)},e.prototype.renderError=function(t){var e=new yt(this.snapshot,t,!1);this.render(e)},e.prototype.clearSnapshotCache=function(){this.snapshotCache.clear()},e.prototype.cacheSnapshot=function(){return a(this,void 0,void 0,(function(){var t,e,n;return c(this,(function(r){switch(r.label){case 0:return this.shouldCacheSnapshot?(this.delegate.viewWillCacheSnapshot(),e=(t=this).snapshot,n=t.lastRenderedLocation,[4,new Promise((function(t){return setTimeout((function(){return t()}),0)}))]):[3,2];case 1:r.sent(),this.snapshotCache.put(n,e.clone()),r.label=2;case 2:return[2]}}))}))},e.prototype.getCachedSnapshotForLocation=function(t){return this.snapshotCache.get(t)},Object.defineProperty(e.prototype,"snapshot",{get:function(){return et.fromElement(this.element)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldCacheSnapshot",{get:function(){return this.snapshot.isCacheable},enumerable:!1,configurable:!0}),e}(q),wt=function(){function t(){this.navigator=new ht(this),this.history=new lt(this),this.view=new vt(this,document.documentElement),this.adapter=new at(this),this.pageObserver=new dt(this),this.linkClickObserver=new pt(this),this.formSubmitObserver=new ct(this),this.scrollObserver=new ft(this),this.streamObserver=new mt(this),this.frameRedirector=new ut(document.documentElement),this.enabled=!0,this.progressBarDelay=500,this.started=!1}return t.prototype.start=function(){this.started||(this.pageObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.started=!0,this.enabled=!0)},t.prototype.disable=function(){this.enabled=!1},t.prototype.stop=function(){this.started&&(this.pageObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.started=!1)},t.prototype.registerAdapter=function(t){this.adapter=t},t.prototype.visit=function(t,e){void 0===e&&(e={}),this.navigator.proposeVisit(f(t),e)},t.prototype.connectStreamSource=function(t){this.streamObserver.connectStreamSource(t)},t.prototype.disconnectStreamSource=function(t){this.streamObserver.disconnectStreamSource(t)},t.prototype.renderStreamMessage=function(t){document.documentElement.appendChild(j.wrap(t).fragment)},t.prototype.clearCache=function(){this.view.clearSnapshotCache()},t.prototype.setProgressBarDelay=function(t){this.progressBarDelay=t},Object.defineProperty(t.prototype,"location",{get:function(){return this.history.location},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"restorationIdentifier",{get:function(){return this.history.restorationIdentifier},enumerable:!1,configurable:!0}),t.prototype.historyPoppedToLocationWithRestorationIdentifier=function(t){this.enabled?this.navigator.proposeVisit(t,{action:"restore",historyChanged:!0}):this.adapter.pageInvalidated()},t.prototype.scrollPositionChanged=function(t){this.history.updateRestorationData({scrollPosition:t})},t.prototype.willFollowLinkToLocation=function(t,e){return this.elementIsNavigable(t)&&this.locationIsVisitable(e)&&this.applicationAllowsFollowingLinkToLocation(t,e)},t.prototype.followedLinkToLocation=function(t,e){var n=this.getActionForLink(t);this.visit(e.href,{action:n})},t.prototype.allowsVisitingLocation=function(t){return this.applicationAllowsVisitingLocation(t)},t.prototype.visitProposedToLocation=function(t,e){St(t),this.adapter.visitProposedToLocation(t,e)},t.prototype.visitStarted=function(t){St(t.location),this.notifyApplicationAfterVisitingLocation(t.location)},t.prototype.visitCompleted=function(t){this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},t.prototype.willSubmitForm=function(t,e){return this.elementIsNavigable(t)&&this.elementIsNavigable(e)},t.prototype.formSubmitted=function(t,e){this.navigator.submitForm(t,e)},t.prototype.pageBecameInteractive=function(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},t.prototype.pageLoaded=function(){this.history.assumeControlOfScrollRestoration()},t.prototype.pageWillUnload=function(){this.history.relinquishControlOfScrollRestoration()},t.prototype.receivedMessageFromStream=function(t){this.renderStreamMessage(t)},t.prototype.viewWillCacheSnapshot=function(){this.notifyApplicationBeforeCachingSnapshot()},t.prototype.viewWillRenderSnapshot=function(t,e){var n=t.element;this.notifyApplicationBeforeRender(n)},t.prototype.viewRenderedSnapshot=function(t,e){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender()},t.prototype.viewInvalidated=function(){this.adapter.pageInvalidated()},t.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){return!this.notifyApplicationAfterClickingLinkToLocation(t,e).defaultPrevented},t.prototype.applicationAllowsVisitingLocation=function(t){return!this.notifyApplicationBeforeVisitingLocation(t).defaultPrevented},t.prototype.notifyApplicationAfterClickingLinkToLocation=function(t,e){return S("turbo:click",{target:t,detail:{url:e.href},cancelable:!0})},t.prototype.notifyApplicationBeforeVisitingLocation=function(t){return S("turbo:before-visit",{detail:{url:t.href},cancelable:!0})},t.prototype.notifyApplicationAfterVisitingLocation=function(t){return S("turbo:visit",{detail:{url:t.href}})},t.prototype.notifyApplicationBeforeCachingSnapshot=function(){return S("turbo:before-cache")},t.prototype.notifyApplicationBeforeRender=function(t){return S("turbo:before-render",{detail:{newBody:t}})},t.prototype.notifyApplicationAfterRender=function(){return S("turbo:render")},t.prototype.notifyApplicationAfterPageLoad=function(t){return void 0===t&&(t={}),S("turbo:load",{detail:{url:this.location.href,timing:t}})},t.prototype.getActionForLink=function(t){var e=t.getAttribute("data-turbo-action");return function(t){return"advance"==t||"replace"==t||"restore"==t}(e)?e:"advance"},t.prototype.elementIsNavigable=function(t){var e=null==t?void 0:t.closest("[data-turbo]");return!e||"false"!=e.getAttribute("data-turbo")},t.prototype.locationIsVisitable=function(t){return b(t,this.snapshot.rootLocation)&&!!y(t).match(/^(?:|\.(?:htm|html|xhtml))$/)},Object.defineProperty(t.prototype,"snapshot",{get:function(){return this.view.snapshot},enumerable:!1,configurable:!0}),t}();function St(t){Object.defineProperties(t,Et)}var Et={absoluteURL:{get:function(){return this.toString()}}},Pt=new wt,Lt=Pt.navigator;function Rt(){Pt.start()}Rt(),t.clearCache=function(){Pt.clearCache()},t.connectStreamSource=function(t){Pt.connectStreamSource(t)},t.disconnectStreamSource=function(t){Pt.disconnectStreamSource(t)},t.navigator=Lt,t.registerAdapter=function(t){Pt.registerAdapter(t)},t.renderStreamMessage=function(t){Pt.renderStreamMessage(t)},t.setProgressBarDelay=function(t){Pt.setProgressBarDelay(t)},t.start=Rt,t.visit=function(t,e){Pt.visit(t,e)},Object.defineProperty(t,"__esModule",{value:!0})}));
